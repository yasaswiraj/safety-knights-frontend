<div class="modal-container p-6 bg-white rounded-2xl shadow-2xl max-w-md w-full mx-auto relative text-gray-800">
  <!-- Close Button -->
  <button class="absolute top-4 right-4 text-gray-500 hover:text-red-500 text-lg" (click)="closeDialog()">✖</button>

  <!-- Consultant Profile Header -->
  <div class="text-center">
    <img src="/user.png" alt="Consultant Image" class="w-20 h-20 rounded-full mx-auto mb-4 shadow-md" />
    <h2 class="text-2xl font-bold">{{ data.name }}</h2>
    <p class="text-yellow-500 text-sm flex items-center justify-center mt-1">
      <ng-container *ngFor="let star of [0, 1, 2, 3, 4]; let i = index">
        <span [class.text-yellow-500]="i < data.rating" [class.text-gray-300]="i >= data.rating">★</span>
      </ng-container>
      <span class="text-gray-500 ml-2">({{ data.reviews }} reviews)</span>
    </p>
  </div>

  <!-- Consultant Details -->
  <div class="mt-6 space-y-4 text-sm leading-6">
    <div class="flex items-start gap-2">
      <span class="font-semibold w-32">Job Title:</span>
      <span>{{ data.job_title || 'Not provided' }}</span>
    </div>
    <div class="flex items-start gap-2">
      <span class="font-semibold w-32">Company:</span>
      <span>{{ data.company_name || 'Not provided' }}</span>
    </div>
    <div class="flex items-start gap-2">
      <span class="font-semibold w-32">Address:</span>
      <span>{{ data.company_address || 'Not provided' }}</span>
    </div>
    <div class="flex items-start gap-2">
      <span class="font-semibold w-32">Email:</span>
      <span>{{ data.email || 'Not provided' }}</span>
    </div>
    <div class="flex items-start gap-2">
      <span class="font-semibold w-32">Contact:</span>
      <span>{{ data.contact || 'Not provided' }}</span>
    </div>
  </div>

  <!-- View Certificates Button -->
  <div class="mt-6 text-center">
    <button (click)="fetchCertificates()"
      class="bg-[var(--accent-color)] hover:bg-opacity-90 text-white font-semibold py-2 px-4 rounded-full shadow-md">
      View Certificates
    </button>
  </div>

  <!-- Certificates Display -->
  <div *ngIf="certificates" class="mt-4 border-t pt-4">
    <h3 class="text-lg font-bold mb-2">Uploaded Certificates</h3>

    <div *ngFor="let category of certificateCategories">
      <h4 class="font-semibold text-sm mb-1">{{ category }}</h4>
      <ul class="list-disc list-inside text-sm text-blue-600 space-y-1">
        <li *ngFor="let file of certificates[category]">
          <span class="text-blue-600 hover:underline cursor-pointer" (click)="openFile(file.file_id)">
            {{ file.filename }}
          </span>
        </li>

      </ul>
    </div>
  </div>
</div>